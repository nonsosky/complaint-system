<section class="col-md-9 mx-auto">
    {{!-- {{>_page_msg}} --}}
    {{!-- {{>_upload_error}} --}}
    <div class="card">
      <h3 class="card-title text-center">Student Profile Edit</h3>
      <div class="card-body">
        <form action="/student/upload" method="POST" enctype="multipart/form-data">
          <div class="text-center">
            <label class="col-md-12 text-center" for="upload-btn"><img src="{{pictureDir}}" class="card-img-top passport" title="Click to change profile image"/></label>
            <input type="file" name="file" class="hidden" id="upload-btn" accept=
            "image/*" required/>
            <input type="submit" name="upload" class="btn btn-sm btn-dark " value="Upload"/>
          </div>
        </form>

        <form action="/student/editprofile?_method=PUT" method="POST" class="form-horizontal mt-3">
          <input type="hidden" name="_method" value="PUT" />

             <div class="form-group">
              <label class="control-label col-md-5" for="regno">Maticulation Number</label>
              <div class="col-md-10">
                <input type="text" name="matric" class="form-control" id="regno"  value="{{user.matric_no}}"/>
              </div>

              <!-- This is used by the frontend javascript-->
              <div class="col-md-10" id="regNoErrorBox">
                <p class="alert alert-danger text-small mt-2" id="regNoError">
                  <span class="close icon-small" data-dismiss="alert">&times;</span>
                  {{regNoError}}
                </p>
              </div>
              <!-- This is used by the frontend javascript-->

              {{#each errors}}
              {{#if regNoError}}
              <div class="col-md-10">
                <p class="alert alert-danger text-small mt-2">
                  <span class="close icon-small" data-dismiss="alert" id="regNoError">&times;</span>
                  {{regNoError}}
                </p>
              </div>
              {{/if}}

              {{else}}

              {{/each}}
            </div>


          <div class="form-group">
            <label class="control-label col-md-2" for="firstname">FirstName</label>
            <div class="col-md-10">
              <input type="text" name="firstname" class="form-control" id="firstname" value="{{user.firstName}}"/>
            </div>
      
            <!-- This is used by the frontend javascript-->
            <div class="col-md-10" id="firstNameErrorBox">
              <p class="alert alert-danger text-small mt-2" id="firstNameError">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
              </p>
            </div>
            <!-- This is used by the frontend javascript-->

            {{#each errors}}
            {{#if firstNameError}}
            <div class="col-md-10">
              <p class="alert alert-danger text-small mt-2">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
                {{firstNameError}}
              </p>
            </div>
            {{/if}}

            {{else}}

            {{/each}}
          </div>

          <div class="form-group">
            <label class="control-label col-md-2" for="lastname">LastName</label>
            <div class="col-md-10">
              <input type="text" name="lastname" class="form-control" id="lastname" value="{{user.lastName}}"/>
            </div>
           <!-- This is used by the frontend javascript-->
            <div class="col-md-10" id="lastNameErrorBox">
              <p class="alert alert-danger text-small mt-2" id="lastNameError">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
              </p>
            </div>
            <!-- This is used by the frontend javascript-->
            {{#each errors}}
            {{#if lastNameError}}
            <div class="col-md-10">
              <p class="alert alert-danger text-small mt-2">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
                {{lastNameError}}
              </p>
            </div>
            {{/if}}

            {{else}}

            {{/each}}
          </div>

          <div class="form-group">
            <label class="control-label col-md-2" for="middlename">MiddleName</label>
            <div class="col-md-10">
              <input type="text" name="middlename" class="form-control" id="middlename" value="{{user.middleName}}"/>
            </div>
           <!-- This is used by the frontend javascript-->
            <div class="col-md-10" id="middleNameErrorBox">
              <p class="alert alert-danger text-small mt-2" id="middleNameError">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
              </p>
            </div>
            <!-- This is used by the frontend javascript-->
            {{#each errors}}
            {{#if middleNameError}}
            <div class="col-md-10">
              <p class="alert alert-danger text-small mt-2">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
                {{middleNameError}}
              </p>
            </div>
            {{/if}}

            {{else}}

            {{/each}}
          </div>

          <div class="form-group">
            <label class="control-label col-md-5" for="email_address">Email Address</label>
            <div class="col-md-10">
              <input type="email" name="emailAddress" class="form-control" id="email_address" value="{{user.emailAddress}}"/>
            </div>

            <!-- This is used by the frontend javascript-->
            <div class="col-md-10" id="emailErrorBox">
              <p class="alert alert-danger text-small mt-2" id="emailError">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
              </p>
            </div>
            <!-- This is used by the frontend javascript-->
            {{#each errors}}
            {{#if emailAddressError}}
            <div class="col-md-10">
              <p class="alert alert-danger text-small mt-2">
                <span class="close icon-small" data-dismiss="alert">&times;</span>
                {{emailAddressError}}
              </p>
            </div>
            {{/if}}

            {{else}}

            {{/each}}
          </div>


          <div class="form-group">
            <div class="col-md-5">
              <input type="submit" name="update" value="Update" class="btn btn-dark">
            </div>
          </div>
        </form>
      </div>
    </div>
</section>
